<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Calendario</title>
        <f:event type="preRenderView" listener="#{tareasController.session()}"/>
    </h:head>
    <h:body>
        <h:form id="form">

            <p:growl id="msg" showDetail="true">
                <p:autoUpdate />
            </p:growl>

            <h1 style="margin-top: 0">Tareas</h1>

            <p:schedule id="Tareas" value="#{tareasController.calendario}" widgetVar="Calendario" allDaySlot="true">
                <p:ajax event="dateSelect" listener="#{tareasController.onDateSelect}" oncomplete="PF('NuevoEventoDialog').show();" update=":NuevoEvento form"/>
                <p:ajax event="eventMove" listener="#{tareasController.onEventMove}"/>
                <p:ajax event="eventSelect" listener="#{tareasController.onEventSelect}" oncomplete="PF('ActualizarEventoDialog').show();" update=":ActualizarEvento form"/>
            </p:schedule>
            
        </h:form>
        
        <ui:include src="Add.xhtml"/>
        <ui:include src="Update.xhtml"/>
    </h:body>
</html>

